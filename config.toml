model = "gpt-5.1-codex"
model_reasoning_effort = "high"

# === AUTOPILOT CONFIG ===
# Fa leggere automaticamente codex.yaml come instructions file
project_doc_fallback_filenames = ["AGENTS.md", "AGENTS.override.md", "codex.yaml", "codex.yml"]
project_doc_max_bytes = 65536

# Approval policy per full-auto mode
approval_policy = "on-failure"

[projects."/var/www/aiagens.ch"]
trust_level = "trusted"

[projects."/home/telegram/escrow-gigs-bot"]
trust_level = "trusted"

[projects."/home/swisswallet/swisswallet"]
trust_level = "trusted"

[projects."/var/www/antoniobrundo.vip"]
trust_level = "trusted"

[projects."/var/www/aiagens.ch.pre-restore-20251110_145425"]
trust_level = "trusted"

[projects."/var/www/abtrading"]
trust_level = "trusted"

# MCP Server Configuration - AIAgens RAG
[mcp_servers.aiagens_rag]
command = "python3"
args = ["/var/www/aiagens.ch/scripts/mcp_stdio_wrapper.py"]

[mcp_servers.aiagens_rag.env]
PYTHONPATH = "/var/www/aiagens.ch"
PYTHONUNBUFFERED = "1"

# MCP Server - PostgreSQL Database Access
[mcp_servers.postgres]
command = "python3"
args = ["/home/gemini-admin/.codex/mcp-servers/postgres_server.py"]

[mcp_servers.postgres.env]
DATABASE_URL = "postgresql://localhost/aiagens"
MCP_POSTGRES_READONLY = "true"
MCP_POSTGRES_MAX_ROWS = "1000"
PYTHONUNBUFFERED = "1"

# MCP Server - GitHub Operations (via gh CLI)
[mcp_servers.github]
command = "python3"
args = ["/home/gemini-admin/.codex/mcp-servers/github_server.py"]

[mcp_servers.github.env]
PYTHONUNBUFFERED = "1"

# MCP Server - HTTP Fetch / API Calls
[mcp_servers.http]
command = "python3"
args = ["/home/gemini-admin/.codex/mcp-servers/http_server.py"]

[mcp_servers.http.env]
MCP_HTTP_TIMEOUT = "30"
MCP_HTTP_MAX_SIZE = "1048576"
PYTHONUNBUFFERED = "1"

# MCP Server - Redis Cache & Pub/Sub
[mcp_servers.redis]
command = "python3"
args = ["/home/gemini-admin/.codex/mcp-servers/redis_server.py"]

[mcp_servers.redis.env]
REDIS_URL = "redis://localhost:6379/0"
MCP_REDIS_READONLY = "false"
MCP_REDIS_MAX_KEYS = "100"
PYTHONUNBUFFERED = "1"

# MCP Server - Docker Container Management
[mcp_servers.docker]
command = "python3"
args = ["/home/gemini-admin/.codex/mcp-servers/docker_server.py"]

[mcp_servers.docker.env]
MCP_DOCKER_READONLY = "true"
PYTHONUNBUFFERED = "1"

# MCP Server - Slack Notifications
[mcp_servers.slack]
command = "python3"
args = ["/home/gemini-admin/.codex/mcp-servers/slack_server.py"]

[mcp_servers.slack.env]
# SLACK_WEBHOOK_URL = "https://hooks.slack.com/services/xxx"
# SLACK_BOT_TOKEN = "xoxb-xxx"
SLACK_DEFAULT_CHANNEL = "#alerts"
PYTHONUNBUFFERED = "1"

# MCP Server - Prometheus Metrics
[mcp_servers.prometheus]
command = "python3"
args = ["/home/gemini-admin/.codex/mcp-servers/prometheus_server.py"]

[mcp_servers.prometheus.env]
PROMETHEUS_URL = "http://localhost:9090"
MCP_PROMETHEUS_TIMEOUT = "30"
PYTHONUNBUFFERED = "1"

# MCP Server - Elasticsearch Logs & Search
[mcp_servers.elasticsearch]
command = "python3"
args = ["/home/gemini-admin/.codex/mcp-servers/elasticsearch_server.py"]

[mcp_servers.elasticsearch.env]
ELASTICSEARCH_URL = "http://localhost:9200"
# ELASTICSEARCH_USER = ""
# ELASTICSEARCH_PASSWORD = ""
MCP_ES_MAX_RESULTS = "100"
MCP_ES_TIMEOUT = "30"
PYTHONUNBUFFERED = "1"

# MCP Server - AWS Cloud Operations
[mcp_servers.aws]
command = "python3"
args = ["/home/gemini-admin/.codex/mcp-servers/aws_server.py"]

[mcp_servers.aws.env]
# AWS_PROFILE = "default"
# AWS_REGION = "eu-central-1"
PYTHONUNBUFFERED = "1"

# MCP Server - Kubernetes Operations
[mcp_servers.kubernetes]
command = "python3"
args = ["/home/gemini-admin/.codex/mcp-servers/kubernetes_server.py"]

[mcp_servers.kubernetes.env]
# KUBECONFIG = "~/.kube/config"
K8S_NAMESPACE = "default"
MCP_K8S_READONLY = "true"
PYTHONUNBUFFERED = "1"

[notice]
hide_gpt5_1_migration_prompt = true
hide_rate_limit_model_nudge = true
"hide_gpt-5.1-codex-max_migration_prompt" = true
